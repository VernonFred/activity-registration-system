# 会议报名系统 - 产品规划文档

> 最后更新：2025-11-30 17:00
> 版本：v2.2

---

## 微信小程序端

### 主页
- 头像、地点、通知、搜索框
- **热门精选**（轮播）
  - 点击逻辑：
    | 状态标签 | 含义 | 点击行为 |
    |---------|------|---------|
    | 报名中 | 活动正在接受报名 | 跳转到活动详情页 |
    | 即将开始 | 活动即将开放报名 | 显示「敬请期待」弹窗 |
    | 已开始 | 活动已开始（报名已截止） | 跳转到活动详情页（可签到） |
    | 已结束 | 活动已结束 | 跳转到微信文章链接 |
- **历史活动**
  - 全部跳转到微信文章链接（活动宣传文章）

### 弹窗系统
1. **「敬请期待」弹窗**（即将开始报名的活动）
   - 触发：点击"即将开始"标签的活动
   - 内容：活动封面图、活动标题、「敬请期待」按钮
   - 样式：毛玻璃背景遮罩、卡片式弹窗、右上角关闭按钮

2. **「活动推广」弹窗**（报名中的活动）
   - 触发：用户首次打开小程序 + 存在报名中的活动
   - 内容：活动封面图、活动标题、报名截止倒计时、「立即报名」CTA按钮
   - 样式：毛玻璃背景遮罩、卡片式弹窗、右上角关闭按钮

### 报名
- 活动列表（去报名）
- 活动详情页面：
  - 顶部导航栏（活动速览、活动议程、酒店信息、图片直播）
    - 活动速览：banner、标题、时间、地点、报名人数、活动介绍
    - 活动议程：时间、地点、标题、内容（需要自定义组件流程进行排版）
    - 酒店信息：酒店胶囊标签、酒店图片（图片有一层毛玻璃，上面显示酒店名称、地点、电话等信息）、酒店房型/价格/说明（预定说明、预定联系人、拨打电话预定）、位置地图（点击地图可以进行导航）、交通指南（地铁、公交、自驾）、当地天气（温度、湿度、风速、能见度）
    - 图片直播：图片背景、"查看直播"按钮
  - 底部按钮（收藏、评论、点赞、转发、立即报名）
    - 立即报名（步骤表单）：
      - 个人信息：姓名、学校、学院/部门、职位、手机号码（可以一键快速获取号码）
      - 缴费信息：二维码（识别缴费）、发票抬头、电子邮箱、缴费截图
      - 住宿信息：住宿安排（自行安排、会务组安排）、酒店选择、住宿意向（大床房、标准间）、户型（单注、合住）
      - 交通信息：说明文字框、接站点、到达时间、到达车次/航班号、送站点、返程时间、返程车次/航班号
  - 报名成功：报名成功弹窗
  - 添加同行人员：提交报名表单后显示报名成功弹窗，点击完成后，弹出"是否添加同行人员"的弹窗

### 我的
- 活动、徽章、通知、设置
  - **活动**：活动列表
    - 活动内容：标题、地点（城市）、简介、（点赞、评论、收藏、分享）图标
    - 活动标签：已报名、已参加
    - 活动用户：姓名、标签（已缴费、去缴费、去签到）
    - 操作按钮：修改信息、取消报名、查看参会凭证（活动时间结束，已完成参加的用户）、添加同行人员
      - 去签到：立即签到页面、完成签到页面
  - **徽章**：新获得徽章、累积成就、徽章墙
    - 徽章系列：启程成就、互动成就、荣誉成就、隐藏彩蛋
      - 启程成就
        - 初次登场：首次报名活动 → "你的第一场活动，正式启程！"
        - 成功入选：报名成功 → "恭喜加入活动名单"
        - 准时到场：第一次签到成功 → "守时是你的闪光点！"
        - 全勤达人：报名的所有活动均签到成功 → "全勤出席，完美表现！"
      - 互动成就
        - 开口有料：首次评分或发布评论 → "第一次互动，就很精彩！"
        - 金句制造机：首次发布长评论（超过100字）或评论被官方精选 → "你的观点，被全场记住！"
        - 人气发言者：评论点赞或回复数进入前10% → "讨论因为你而更热烈！"
        - 任务执行者：完成活动测评或调查问卷 → "任务完成，认真态度值得肯定！"
        - 连续打卡：连续参与2场及以上活动 → "保持热度，精彩延续！"
        - 活力不息：连续参与4场活动 → "活力常在，你是活动的常青树！"
      - 荣誉成就
        - 徽章收藏家：获得3枚徽章 → "恭喜成为小小收藏家"
        - 活动助力官：主动帮助他人报名 → "你的热心，让活动更温暖！"
        - 活动之星：获得10枚徽章 → "徽章墙上的闪光记忆属于你！"
      - 隐藏彩蛋
        - 闪电报名王：报名用时小于5分钟 → "手速无敌，报名第一！"
        - 午夜打卡者：晚上10点之后报名 → "终于想起报名了"
        - 沉默观察员：参与2次活动但未发布评论 → "沉默不语，但你始终在场。"
        - 周年纪念章：注册满1年自动解锁 → "感谢一路同行，一周年快乐！"
  - **通知**：系统通知、@我的、我的评论
    - 系统通知：报名成功、还未缴费、荣获勋章等等
    - @我的：评论人的头像/姓名/单位，时间，评论人的内容，被@人的评论，回复按钮
    - 我的评论：活动名称、城市地点、活动简介、活动星级评分、我的评论、修改/删除的按钮
  - **设置**：个人资料、界面与显示、关于
    - 个人资料
      - 个人简介：姓名、学校、学院/部门、手机号码、电子邮箱
      - 我的缴费：参与过活动的缴费列表、查看详情（缴费人、缴费时间、费用、订单号、交易流水号、缴费截图下载）
      - 我的发票抬头：添加发票抬头、发票信息列表（编辑、复制内容、删除、二维码），这个二维码是被扫码后可以出现「复制发票信息内容」这样的功能
    - 界面与显示：多语言、暗黑模式
  - **关于**：隐私与政策、支持与帮助

### AI会议助手
- 独立页面（无底部导航栏）
- 智能问答界面
- 快捷问题推荐
- 后续接入大模型API

---

## 管理端（Web）

### 仪表盘
- 统计卡片、活动流、通知列表

### 活动管理
- 活动创建
- 报名信息
- 活动数据
  - 报名总学校数
  - 报名总人数
  - 签到总人数
  - 前20名学校报名人数对比
  - 收藏、点赞、分享、评论、星级评分

### 活动内容管理 ⭐ 新增
- 活动文章管理
  - 文章列表（关联活动、文章标题、微信文章链接、发布时间、状态）
  - 添加文章（选择活动、文章标题、微信文章链接）
  - 编辑/删除文章
- 用途：活动结束后，在微信公众号推送文章，链接存储在此，小程序"历史活动"和"已结束"活动点击时跳转

### 用户管理
- 缴费管理
  - 活动、姓名、学校、手机号码、缴费状态（未缴费、已缴费）、缴费信息（查看）、报名时间、操作（删除、通知）
- 通知设置
  - 通知编辑
    - 内容创建：通知标题、通知类型、通知内容、实时预览、交互按钮设置
    - 发送对象：筛选类型（按活动选择、按用户选择（用户标签：已缴费、已报名、已参加）、通知类型、输入触发条件、发送时机、实时预览、交互按钮设置
  - 通知管理：全部通知、已发送、草稿
  - 交互按钮管理：按钮样式配置、交互行为配置、常用按钮预设
- 用户信息
  - 信息卡片：学校、学院/部门、职位、手机号码、电子邮件
  - 行为卡片：参与活动、最近评论、通知记录

### 行为管理
- 评论管理：用户评论信息、精选、置顶、删除
- 徽章管理：徽章概览、徽章规则、创建徽章
  - 徽章概览：启程系列、互动系列、荣誉成就系列、隐藏彩蛋系列
  - 徽章规则
    - 规则创建：控件库（首次报名、首次评论等等）
    - 规则管理
  - 创建徽章：新徽章名称、所属系列、提示语、关联规则、徽章外观、徽章图标、上传徽章

### 表单设计
- 可视化拖拽设计

### 设置管理

---

## 数据模型扩展

### Activity 表扩展字段
```
article_url: String  // 微信文章链接（活动结束后的宣传文章）
```

### 新增 ActivityArticle 表（可选，如果一个活动有多篇文章）
```
id: Integer
activity_id: Integer (FK)
title: String
article_url: String
published_at: DateTime
created_at: DateTime
```

---

## 版本更新记录

| 版本 | 日期 | 更新内容 |
|------|------|---------|
| v1.0 | 2025-01-20 | 初始产品规划 |
| v2.0 | 2025-11-29 | 完善徽章系统、通知系统、设置页面 |
| v2.1 | 2025-11-30 | 新增：①热门精选/历史活动点击逻辑②弹窗系统（敬请期待+活动推广）③管理端「活动内容管理」板块④数据模型扩展 |
| v2.2 | 2025-11-30 | **阶段性回顾**：Phase A+B完成（导航栏+首页+搜索页+AI助手）；下一步Phase C活动列表页 |
