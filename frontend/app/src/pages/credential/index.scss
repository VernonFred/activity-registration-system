@import "../../styles/variables";

// =====================================================================
// 数字护照 — 参会凭证
// =====================================================================

.credential-page {
  position: relative;
  min-height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 24px 18px 64px;
  box-sizing: border-box;
  overflow: hidden;
}

// =====================================================================
// 背景：米色/淡黄暖色调
// =====================================================================
.passport-bg {
  position: absolute; inset: 0; z-index: 0;
  background: linear-gradient(155deg, #e8ddd0 0%, #f0e6d8 40%, #e5dcd0 70%, #ddd4c6 100%);
}

.theme-dark .passport-bg {
  background: linear-gradient(155deg, #1a1612 0%, #201c16 40%, #1c1812 70%, #161310 100%);
}

.passport-texture {
  position: absolute; inset: 0; z-index: 1;
  opacity: 0.04;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)'/%3E%3C/svg%3E");
  background-size: 120px;
}

// =====================================================================
// 护照本体
// =====================================================================
.passport-book {
  position: relative; z-index: 5;
  width: 100%; max-width: 320px;
  background: #faf6f0;
  border-radius: 6px;
  padding: 0;
  box-shadow:
    0 2px 0 #e0d8cc,
    0 4px 0 #d8d0c4,
    0 20px 50px rgba(80, 60, 30, 0.2),
    0 0 0 1px rgba(160, 140, 110, 0.15);
  overflow: hidden;
  animation: bookSlide 0.7s ease-out both;
}

.theme-dark .passport-book {
  background: #1e1b17;
  box-shadow:
    0 2px 0 #14120f,
    0 4px 0 #100e0b,
    0 20px 50px rgba(0, 0, 0, 0.5),
    0 0 0 1px rgba(255, 255, 255, 0.05);
}

@keyframes bookSlide {
  0% { transform: translateY(30px) rotate(-1deg); opacity: 0; }
  100% { transform: translateY(0) rotate(0deg); opacity: 1; }
}

// 顶部装饰边
.book-edge {
  height: 4px;
  background: linear-gradient(90deg, #8b7355, #a08968, #8b7355);
}

.theme-dark .book-edge {
  background: linear-gradient(90deg, #5a4a35, #6b5840, #5a4a35);
}

// =====================================================================
// 印章区
// =====================================================================
.stamp-zone {
  position: relative;
  padding: 28px 20px 16px;
  display: flex;
  justify-content: center;
}

.stamp {
  position: relative;
  width: 110px; height: 110px;
  display: flex;
  align-items: center;
  justify-content: center;
  animation: stampDrop 0.6s cubic-bezier(0.34, 1.56, 0.64, 1) 0.3s both;
}

@keyframes stampDrop {
  0% { transform: scale(2) rotate(-15deg); opacity: 0; }
  100% { transform: scale(1) rotate(-6deg); opacity: 1; }
}

.stamp-outer {
  position: absolute; inset: 0;
  border-radius: 50%;
  border: 3px solid #8b4c3a;
  opacity: 0.7;

  &::before {
    content: '';
    position: absolute; inset: 4px;
    border-radius: 50%;
    border: 1px solid #8b4c3a;
    opacity: 0.5;
  }
}

.theme-dark .stamp-outer {
  border-color: #c47a5a;
  &::before { border-color: #c47a5a; }
}

.stamp-inner {
  position: relative; z-index: 2;
  display: flex;
  flex-direction: column;
  align-items: center;
  transform: rotate(-6deg);
}

.stamp-city {
  font-size: 28px;
  font-weight: 800;
  color: #8b4c3a;
  letter-spacing: 4px;
  line-height: 1;
}

.theme-dark .stamp-city { color: #c47a5a; }

.stamp-divider {
  width: 36px; height: 1px;
  margin: 6px 0 5px;
  background: #8b4c3a;
  opacity: 0.5;
}

.theme-dark .stamp-divider { background: #c47a5a; }

.stamp-date {
  font-size: 11px;
  color: #8b4c3a;
  letter-spacing: 1px;
  font-weight: 600;
}

.theme-dark .stamp-date { color: #c47a5a; }

.stamp-ring {
  position: absolute; inset: -6px;
  border-radius: 50%;
  border: 1px dashed rgba(139, 76, 58, 0.25);
}

.theme-dark .stamp-ring {
  border-color: rgba(196, 122, 90, 0.2);
}

// 油墨飞溅
.ink-splash {
  position: absolute;
  border-radius: 50%;
  background: rgba(139, 76, 58, 0.08);
  animation: inkFade 0.8s ease-out 0.5s both;
}

.theme-dark .ink-splash {
  background: rgba(196, 122, 90, 0.06);
}

.s1 { width: 18px; height: 14px; top: 18px; right: 60px; transform: rotate(25deg); }
.s2 { width: 10px; height: 8px; bottom: 20px; left: 70px; transform: rotate(-15deg); }
.s3 { width: 6px; height: 6px; top: 40px; left: 80px; }

@keyframes inkFade {
  0% { transform: scale(0); opacity: 0; }
  60% { transform: scale(1.3); opacity: 1; }
  100% { transform: scale(1); opacity: 1; }
}

// =====================================================================
// 信息区
// =====================================================================
.info-zone {
  padding: 8px 24px 20px;
  animation: infoReveal 0.6s ease-out 0.6s both;
}

@keyframes infoReveal {
  0% { opacity: 0; transform: translateY(10px); }
  100% { opacity: 1; transform: translateY(0); }
}

.info-type {
  display: block;
  font-size: 9px;
  letter-spacing: 3px;
  color: #a09080;
  font-weight: 600;
  margin-bottom: 8px;
}

.theme-dark .info-type { color: #7a6e60; }

.info-title {
  display: block;
  font-size: 20px;
  font-weight: 700;
  color: #2a2218;
  line-height: 1.35;
  margin-bottom: 20px;
}

.theme-dark .info-title { color: #e8ddd0; }

.info-field {
  margin-bottom: 14px;

  &:last-child { margin-bottom: 0; }
}

.field-label {
  display: block;
  font-size: 8px;
  letter-spacing: 2px;
  color: #b0a090;
  font-weight: 600;
  margin-bottom: 4px;
  text-transform: uppercase;
}

.theme-dark .field-label { color: #7a6e60; }

.field-value {
  display: block;
  font-size: 17px;
  font-weight: 700;
  color: #2a2218;
  letter-spacing: 2px;
}

.theme-dark .field-value { color: #e0d5c8; }

.field-small {
  font-size: 13px;
  font-weight: 500;
  letter-spacing: 0.5px;
}

// =====================================================================
// 机读码区域 (MRZ)
// =====================================================================
.mrz-zone {
  margin: 0 16px;
  padding: 12px 0;
  border-top: 1px solid rgba(160, 140, 110, 0.2);
  animation: mrzSlide 0.5s ease-out 0.9s both;
}

@keyframes mrzSlide {
  0% { opacity: 0; }
  100% { opacity: 1; }
}

.mrz-line-deco {
  height: 2px;
  margin-bottom: 8px;
  background: repeating-linear-gradient(
    90deg,
    rgba(139, 76, 58, 0.12) 0px,
    rgba(139, 76, 58, 0.12) 3px,
    transparent 3px,
    transparent 5px
  );
}

.theme-dark .mrz-line-deco {
  background: repeating-linear-gradient(
    90deg,
    rgba(196, 122, 90, 0.1) 0px,
    rgba(196, 122, 90, 0.1) 3px,
    transparent 3px,
    transparent 5px
  );
}

.mrz-text {
  display: block;
  font-size: 8px;
  font-family: 'Courier New', Courier, monospace;
  color: rgba(80, 60, 40, 0.3);
  letter-spacing: 1.5px;
  line-height: 1.6;
  overflow: hidden;
  white-space: nowrap;
}

.theme-dark .mrz-text { color: rgba(200, 180, 150, 0.15); }

// =====================================================================
// VERIFIED 标记
// =====================================================================
.verified-badge {
  position: absolute;
  bottom: 58px; right: 16px;
  transform: rotate(-8deg);
  padding: 4px 12px;
  border: 2px solid rgba(50, 140, 80, 0.5);
  border-radius: 4px;
  animation: verifyStamp 0.4s cubic-bezier(0.34, 1.56, 0.64, 1) 1.1s both;
}

.theme-dark .verified-badge {
  border-color: rgba(120, 200, 140, 0.35);
}

@keyframes verifyStamp {
  0% { transform: scale(2) rotate(-8deg); opacity: 0; }
  100% { transform: scale(1) rotate(-8deg); opacity: 1; }
}

.verified-text {
  font-size: 10px;
  font-weight: 800;
  letter-spacing: 3px;
  color: rgba(50, 140, 80, 0.55);
}

.theme-dark .verified-text { color: rgba(120, 200, 140, 0.4); }

// =====================================================================
// 关闭按钮
// =====================================================================
.passport-close {
  position: absolute;
  bottom: 24px; left: 50%;
  transform: translateX(-50%);
  width: 34px; height: 34px;
  border-radius: 50%;
  background: rgba(255, 255, 255, 0.85);
  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 10;

  text {
    font-size: 20px; line-height: 1;
    color: #4a3f30;
    font-weight: 500;
  }
}

.theme-dark .passport-close {
  background: rgba(255, 255, 255, 0.08);
  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.3);

  text { color: #d0c8b8; }
}
