# 问题跟踪文档

> **创建时间**: 2025年12月02日 23:50  
> **最后更新**: 2025年12月02日 23:50  
> **维护人**: Cursor AI + 用户

---

## 📋 使用说明

本文档用于跟踪项目中的问题、Bug 和需求。

### 问题状态

| 状态 | 说明 |
|------|------|
| 🔴 待处理 | 新提出的问题，等待处理 |
| 🟡 处理中 | 正在解决中 |
| 🟢 已解决 | 问题已修复 |
| ⚪ 已关闭 | 问题已关闭（无需处理或重复） |

### 优先级

| 优先级 | 说明 |
|--------|------|
| P0 | 紧急，阻塞开发 |
| P1 | 高优先级，尽快处理 |
| P2 | 中优先级，正常排期 |
| P3 | 低优先级，有空处理 |

---

## 🔴 待处理问题

### #001 H5 预览样式错乱

- **提出时间**: 2025年12月02日 23:45
- **提出人**: 用户
- **优先级**: P1
- **状态**: 🔴 待处理
- **问题描述**: 
  - H5 预览页面显示巨大的文字
  - 布局完全错乱
  - rpx 单位没有正确转换

**Cursor AI 回复**:
> 问题原因：Taro 在 H5 模式下需要特殊的 rpx 转换配置。已添加 `postcss.pxtransform` 配置和 `index.html` 模板，但样式仍有问题。
> 
> 计划解决方案：
> 1. 检查 postcss 配置是否正确
> 2. 确认 viewport 适配脚本是否生效
> 3. 可能需要调整 baseUnit 配置
>
> 预计修复时间：2025年12月03日

---

## 🟢 已解决问题

### #002 搜索页"清除全部"不对齐

- **提出时间**: 2025年12月02日 23:30
- **提出人**: 用户
- **优先级**: P1
- **状态**: 🟢 已解决
- **解决时间**: 2025年12月02日 23:40
- **问题描述**: 最近搜索的"清除全部"和最近浏览的"清除全部"上下没有对齐

**解决方案**:
> 移除 `recent-views-section` 的特殊 `padding-right` 设置，统一所有 `section-header` 样式。

---

### #003 搜索页顶部与微信胶囊重叠

- **提出时间**: 2025年12月02日 23:30
- **提出人**: 用户
- **优先级**: P1
- **状态**: 🟢 已解决
- **解决时间**: 2025年12月02日 23:40
- **问题描述**: 搜索框和返回键在微信官方的右上角胶囊按钮下面，整个页面需要往下移

**解决方案**:
> 使用 `Taro.getMenuButtonBoundingClientRect()` 获取胶囊按钮底部位置，动态设置 `paddingTop`。

---

### #004 搜索页内容被截断

- **提出时间**: 2025年12月02日 22:00
- **提出人**: 用户
- **优先级**: P1
- **状态**: 🟢 已解决
- **解决时间**: 2025年12月02日 23:00
- **问题描述**: "清除全部"文字被截断，"热门"按钮也被截断

**解决方案**:
> 1. 添加 `overflow-x: hidden` 到 `.search-page`
> 2. 添加 `flex-shrink: 0` 和 `white-space: nowrap` 到 `.clear-all-btn`
> 3. 确保 `padding-right: 40rpx` 足够

---

### #005 最近浏览图片不显示

- **提出时间**: 2025年12月02日 22:30
- **提出人**: 用户
- **优先级**: P1
- **状态**: 🟢 已解决
- **解决时间**: 2025年12月02日 23:00
- **问题描述**: 最近浏览中的图片没有显示

**解决方案**:
> 1. 检查 `cover_url` 字段是否有值
> 2. 添加 `background-color` 作为 fallback
> 3. 使用 `picsum.photos` 作为默认图片

---

### #006 轮播图不居中

- **提出时间**: 2025年12月02日 21:00
- **提出人**: 用户
- **优先级**: P1
- **状态**: 🟢 已解决
- **解决时间**: 2025年12月02日 21:30
- **问题描述**: 轮播图每次突出的图片都不是在中间显示

**解决方案**:
> 设置 `previousMargin` 和 `nextMargin` 都为 `80rpx`，确保居中。

---

### #007 TDesign Icons 不兼容

- **提出时间**: 2025年12月02日 18:00
- **提出人**: 用户
- **优先级**: P0
- **状态**: 🟢 已解决
- **解决时间**: 2025年12月02日 19:00
- **问题描述**: `Cannot read property 'define' of undefined`

**解决方案**:
> 移除 `tdesign-icons-view` 依赖，改用 Lucide Icons PNG 版本。

---

### #008 process is not defined

- **提出时间**: 2025年12月02日 18:30
- **提出人**: 用户
- **优先级**: P0
- **状态**: 🟢 已解决
- **解决时间**: 2025年12月02日 18:45
- **问题描述**: `ReferenceError: process is not defined`

**解决方案**:
> 在 `config/index.ts` 中添加 `typeof process !== 'undefined'` 检查，使用默认值。

---

## 💡 需求建议

### #009 GitHub 代码版本管理

- **提出时间**: 2025年12月03日 00:05
- **提出人**: 用户
- **优先级**: P1
- **状态**: 🟡 处理中
- **需求描述**: 
  - 需要使用 GitHub 实时跟踪代码修改进度
  - 用户没有 GitHub 使用经验，需要指导

**Cursor AI 回复**:
> 已创建 `15-Git版本管理指南.md` 文档，包含完整的 GitHub 使用教程。
> 
> **核心步骤**:
> 1. 创建 GitHub 账号（如果没有）
> 2. 创建新仓库
> 3. 初始化本地 Git
> 4. 关联远程仓库
> 5. 日常提交和推送
> 
> 详见：`docs/15-Git版本管理指南.md`

---

### 用户可在此处提出新需求或建议

---

**格式示例**:

```
### [需求标题]

- **提出时间**: YYYY年MM月DD日 HH:mm
- **提出人**: 用户
- **优先级**: P?
- **需求描述**: 
  - 详细描述...

**Cursor AI 回复**:
> 回复内容...
```

---

## 📝 变更记录

| 时间 | 变更内容 | 操作人 |
|------|----------|--------|
| 2025年12月02日 23:50 | 创建文档，整理历史问题 | Cursor AI |

---

**下次更新**: 新问题提出或解决时同步更新

