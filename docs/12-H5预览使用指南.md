# H5 预览使用指南

> **创建时间**: 2025年12月02日 23:55  
> **最后更新**: 2025年12月02日 23:55  
> **维护人**: Cursor AI  
> **状态**: ⚠️ 配置完成，样式待修复

---

## 📋 变更记录

| 时间 | 变更类型 | 变更内容 | 操作人 |
|------|----------|----------|--------|
| 2025年12月02日 23:55 | 整合 | 从 H5_PREVIEW_GUIDE.md 整合 | Cursor AI |

---

## 📋 概述

H5 预览功能允许在浏览器中预览小程序页面，方便开发时快速检查 UI 效果，无需每次都在微信开发者工具中查看。

---

## 🚀 使用方法

### 步骤 1：编译 H5 版本

```bash
cd /Users/Python项目/活动报名系统/frontend/app
pnpm run build:h5
```

### 步骤 2：启动预览服务器

```bash
cd dist
npx serve -p 3001
```

### 步骤 3：浏览器访问

```
http://localhost:3001/
```

---

## ⚠️ 已知问题

### 问题 1：样式错乱（待修复）

**现象**：页面文字被放大，布局不正确

**原因**：H5 模式的 `rpx` 单位转换与小程序不一致

**计划修复时间**：2025年12月03日

### 问题 2：部分小程序 API 不可用

**现象**：微信特有 API（如 `getMenuButtonBoundingClientRect`）在 H5 中不可用

**解决方案**：需要添加兼容性判断

---

## 📁 相关配置文件

| 文件 | 说明 |
|------|------|
| `config/index.ts` | Taro 配置，包含 H5 编译选项 |
| `src/index.html` | H5 模板文件 |

---

## 🔧 安装的依赖

```bash
pnpm add @tarojs/plugin-platform-h5@3.6.26 @tarojs/shared@3.6.26
pnpm add -D @pmmmwh/react-refresh-webpack-plugin react-refresh
```

---

## 📊 H5 vs 小程序对比

| 功能 | H5 | 小程序 |
|------|-----|--------|
| 页面布局 | ✅ 可预览 | ✅ 正常 |
| 样式效果 | ⚠️ 有差异 | ✅ 正常 |
| 主题切换 | ✅ 可用 | ✅ 可用 |
| 微信 API | ❌ 不可用 | ✅ 可用 |
| 调试效率 | ⭐⭐⭐⭐⭐ | ⭐⭐⭐ |

---

## 📞 使用建议

1. **开发阶段**：优先使用 H5 预览快速迭代
2. **验收阶段**：必须在微信开发者工具中验证
3. **微信特有功能**：只能在小程序中测试

---

## 📝 变更记录

| 时间 | 变更内容 | 操作人 |
|------|----------|--------|
| 2025年12月02日 23:55 | 创建文档 | Cursor AI |

---

**下次更新**: 修复样式问题后

