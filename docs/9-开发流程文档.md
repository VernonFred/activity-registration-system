# 开发流程文档

> **创建时间**: 2025年12月02日 23:55  
> **最后更新**: 2025年12月02日 23:55  
> **维护人**: Cursor AI  
> **总预计时间**: 6-8 周

---

## 📋 流程变更记录

| 时间 | 变更类型 | 变更内容 | 操作人 |
|------|----------|----------|--------|
| 2025年12月02日 23:55 | 整合 | 从 DEVELOPMENT_WORKFLOW.md 整合 | Cursor AI |

---

## 🎯 核心开发策略

### 关键原则

1. **本地开发 + Mock 数据优先**
   - 所有功能先用 Mock 数据完成开发和测试
   - 不依赖外部环境（域名/小程序审核）
   - 开发进度不受外部因素影响

2. **分层完成 + 优先级分级**
   - P0: 必须立即完成（核心功能）
   - P1: 可以临时方案（后期优化）
   - P2: Phase 后期补充（非核心）

3. **AI 功能最后集成**
   - 使用硅基流动 API
   - 在其他所有功能完成后开发
   - 独立模块，不阻塞主流程

4. **真实环境最后对接**
   - 等所有功能完成后再申请域名
   - 统一切换 Mock → 真实 API
   - 灰度测试后正式上线

---

## 📅 完整开发时间表

### Phase 1: 小程序核心页面（Mock 数据）⏱️ 10-12 天

**目标**: 完成所有小程序页面，使用 Mock 数据验证功能。

#### Week 1 (Day 1-5)
```
Day 1-2:  首页 ✅ 已完成
  - ✅ 基础组件库
  - ✅ 用户信息展示
  - ✅ 搜索框
  - ✅ 热门精选轮播
  - ✅ 历史活动列表
  - ⏳ 弹窗系统

Day 3-4:  活动列表页
  - 顶部筛选栏
  - 状态快捷筛选
  - 活动卡片
  - 加载状态
  - 空状态
  - 分页加载

Day 5:    活动详情页（开始）
  - 页面结构搭建
  - 四 Tab 框架
```

#### Week 2 (Day 6-10)
```
Day 6-7:  活动详情页（完成）
  - 活动速览 Tab
  - 活动议程 Tab
  - 酒店信息 Tab
  - 图片直播 Tab
  - 底部交互栏
  - 评论系统

Day 8-9:  报名表单页
  - 四步表单
  - 表单验证
  - 报名成功弹窗
  - 添加同行人员弹窗

Day 10:   我的页面（开始）
  - 页面结构搭建
  - 四 Tab 框架
```

#### Week 3 (Day 11-12)
```
Day 11-12: 我的页面（完成）
  - 活动 Tab
  - 徽章 Tab
  - 通知 Tab
  - 设置 Tab
```

### Phase 2: 管理端配套功能 ⏱️ 7-10 天

**目标**: 完成管理端配套功能，支持小程序端所有业务需求。

### Phase 3: 端到端测试 ⏱️ 3-5 天

**目标**: 完整测试所有功能，确保无重大 Bug。

### Phase 4: AI 功能开发 ⏱️ 3-5 天

**目标**: 接入硅基流动 API，完成 AI 智能助手功能。

### Phase 5: 环境准备 + 真实 API 对接 ⏱️ 1-2 周

**目标**: 申请域名、部署后端、切换真实 API。

### Phase 6: 灰度测试 + 正式上线 ⏱️ 3-5 天

**目标**: 小范围灰度测试，修复问题后正式上线。

---

## 🚀 启动命令

### 后端启动

```bash
cd /Users/Python项目/活动报名系统/backend
source .venv/bin/activate
uvicorn app.main:app --reload --host 0.0.0.0 --port 8000
```

### 小程序端启动

```bash
cd /Users/Python项目/活动报名系统/frontend/app
npm run dev:weapp
```

### 管理端启动

```bash
cd /Users/Python项目/活动报名系统/frontend/admin
npm run dev
```

**管理员账号**:
- 用户名：`admin`
- 密码：`Admin@123`

---

## 🔧 Mock/真实 API 切换

```typescript
// config/index.ts
export const CONFIG = {
  USE_MOCK: true, // Phase 1-4: true, Phase 5-6: false
  API_BASE_URL: process.env.TARO_APP_API_BASE || '',
}
```

---

## 📊 当前进度

| 阶段 | 状态 | 进度 |
|------|------|------|
| **Phase 1** | 进行中 | 60% |
| **Phase 2** | 未开始 | 0% |
| **Phase 3** | 未开始 | 0% |
| **Phase 4** | 未开始 | 0% |
| **Phase 5** | 未开始 | 0% |
| **Phase 6** | 未开始 | 0% |

---

## 📝 变更记录

| 时间 | 变更内容 | 操作人 |
|------|----------|--------|
| 2025年12月02日 23:55 | 创建文档，整合开发流程 | Cursor AI |

---

**下次更新**: 阶段完成时同步更新

