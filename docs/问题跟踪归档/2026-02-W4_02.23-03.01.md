# 问题跟踪文档

> **创建时间**: 2026年2月26日
> **最后更新**: 2026年2月26日
> **维护人**: Claude AI + 用户

---

## 📋 使用说明

本文档用于跟踪项目中的问题、Bug 和需求。

### 问题状态

| 状态 | 说明 |
|------|------|
| 🔴 待处理 | 新提出的问题，等待处理 |
| 🟡 处理中 | 正在解决中 |
| 🟢 已解决 | 问题已修复 |
| ⚪ 已关闭 | 问题已关闭（无需处理或重复） |

### 优先级

| 优先级 | 说明 |
|--------|------|
| P0 | 紧急，阻塞开发 |
| P1 | 高优先级，尽快处理 |
| P2 | 中优先级，正常排期 |
| P3 | 低优先级，有空处理 |

---

## 2026年2月26日

### #001 活动卡片展开样式修复 - 线框容器设计

- **提出时间**: 2026年2月26日
- **提出人**: 用户
- **优先级**: P1
- **状态**: ✅ 已完成
- **完成时间**: 2026年2月26日

#### 问题描述
个人中心-我的活动页面中，活动卡片展开后的样式不符合设计稿：
- 当前展开部分是实心白色背景的分层卡片
- 设计稿要求是透明背景的线框容器，可以透出页面的灰色底色
- 视觉效果应该是：白色主卡片 + 下方拉出的透明线框面板

#### 根本原因
1. **HTML结构问题**：线框容器 `.signup-detail` 在白色主卡片 `.signup-card` 内部，被白色背景覆盖
2. **CSS背景设置**：即使设置 `background: transparent`，也因为在白色卡片内部而看不到页面底色

#### 解决方案

**1. 重构HTML结构**
```jsx
// ❌ 错误结构
<View className="signup-card glass-card">
  <View className="signup-header">...</View>
  <View className="signup-detail">...</View>  // 在白色卡片内部
</View>

// ✅ 正确结构
<View className="signup-wrapper">
  <View className="signup-card glass-card">
    <View className="signup-header">...</View>
    <View className="expand-btn">▼</View>
  </View>
  <View className="signup-detail">...</View>  // 在白色卡片外部
</View>
```

**2. 修改CSS样式**
```scss
.activities-content {
  .signup-wrapper {
    margin-bottom: $spacing-lg;
  }

  .signup-card {
    padding: $spacing-lg;
    // 主卡片样式保持不变
  }

  .signup-detail {
    margin-top: $spacing-md;
    padding: $spacing-md;
    border: 1px solid rgba(0, 0, 0, 0.15);
    border-radius: $radius-md;
    // 移除 background 属性，让其自然透明
    animation: slideDown 0.3s ease forwards;
  }
}
```

#### 技术要点

1. **结构调整**
   - 将展开容器从主卡片内部移到外部
   - 使用 `.signup-wrapper` 包裹主卡片和展开容器
   - 保持CSS选择器层级正确

2. **透明背景实现**
   - 不设置 `background` 属性（而非设置 `transparent`）
   - 在小程序环境中，`background: transparent` 可能不生效
   - 让背景自然透明，露出页面的 `$bg-page` 灰色底色

3. **视觉增强**
   - 边框颜色加深到 `rgba(0, 0, 0, 0.15)` 使线框更明显
   - 添加 `margin-top` 制造视觉分离
   - 保持圆角 `border-radius` 使其看起来像独立容器

#### 涉及文件

```
frontend/app/src/pages/profile/
├── components/
│   └── ActivitiesTab.tsx          # HTML结构调整
└── index.scss                      # CSS样式修改
```

#### 提交记录

- `c6a8030` - fix: 修改活动卡片展开样式为线框容器
- `d40f69a` - fix: 修正线框容器背景色为浅灰色
- `26cb7b2` - fix: 重构活动卡片结构实现真正的线框容器
- `369ef96` - fix: 移除线框容器背景属性以实现真正透明

#### 最终效果

```
页面背景 (灰色 #F5F6F8)
    ↓
┌─────────────────────┐
│ 主卡片 (白色)        │  ← glass-card，实心白色背景
│ 活动标题             │
│ 活动描述             │
│ 统计数据             │
│ 展开按钮 ▼          │
└─────────────────────┘
         ↓ 间距
┌─────────────────────┐  ← 黑色边框
│  (透明背景)          │  ← 透出灰色页面底色
│  参与人员列表        │
│  添加同行人员        │
└─────────────────────┘
```

#### 经验总结

1. **结构优先于样式**：当遇到样式无法实现的情况，优先考虑是否HTML结构有问题
2. **小程序环境特殊性**：CSS属性在小程序中可能有不同表现，不设置比设置`transparent`更有效
3. **视觉分析能力**：仔细理解设计稿的视觉层次关系（主卡片 vs 线框容器 vs 页面背景）
4. **调试方法**：当修改"没有任何变化"时，要从根本原因分析，而不是反复调整CSS属性值

---

## 统计信息

- 本周问题总数: 1
- 已解决: 1
- 处理中: 0
- 待处理: 0
