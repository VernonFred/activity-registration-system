# 设计规范文档

> **创建时间**: 2025年12月02日 23:50  
> **最后更新**: 2025年12月02日 23:50  
> **维护人**: Cursor AI  
> **设计风格**: Lovable 风格

---

## 📋 设计变更记录

| 时间 | 变更类型 | 变更内容 | 操作人 |
|------|----------|----------|--------|
| 2025年12月02日 23:50 | 整合 | 从 DESIGN_STYLE_GUIDE.md 整合 | Cursor AI |
| 2025年12月02日 18:30 | 确定 | 用户确认 Lovable 风格 | 用户 |

---

## 🎨 设计风格定义

### 风格名称：**Lovable 风格**

| 特征 | 描述 |
|------|------|
| **整体感觉** | 现代、简约、高级感 |
| **主色调** | 橙色渐变 `#FF8A1A` → `#FF9933` |
| **设计语言** | iOS/visionOS 风格的浮动岛效果 |
| **阴影风格** | Floating Island 柔和扩散阴影 |
| **圆角** | 大圆角 (16rpx - 32rpx) |
| **动画** | 平滑过渡 (0.3s - 0.5s ease) |

---

## 🌓 双主题系统

### 浅色模式 (Light)

```scss
$light-background: #FAFAFA;      // 页面背景
$light-foreground: #18181B;      // 主文字
$light-card: #FFFFFF;            // 卡片背景
$light-muted: #F0F0F2;           // 次要背景
$light-muted-foreground: #6D6E7A; // 次要文字
$light-border: #DDDEE3;          // 边框
$light-primary: #FF8A1A;         // 主色（橙色）
```

### 深色模式 (Dark)

```scss
$dark-background: #0A0A0B;       // 页面背景
$dark-foreground: #FAFAFA;       // 主文字
$dark-card: #18181B;             // 卡片背景
$dark-muted: #27272A;            // 次要背景
$dark-muted-foreground: #A1A1AA; // 次要文字
$dark-border: #2E2E33;           // 边框
$dark-primary: #FF9933;          // 主色（橙色，略亮）
```

---

## 🌊 Floating Island 阴影系统

### 核心理念

- 阴影必须**柔和、扩散、无明显边缘**
- 像卡片**漂浮 6~10px** 的效果
- **不是贴着页面**的传统阴影

### 阴影变量

```scss
// 浅色模式
$light-shadow-card: 0 25px 50px -12px rgba(24, 24, 27, 0.08);
$light-shadow-elevated: 0 8px 32px -8px rgba(24, 24, 27, 0.1);
$light-shadow-glow: 0 0 60px -12px rgba(255, 138, 26, 0.25);

// 深色模式
$dark-shadow-card: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
$dark-shadow-elevated: 0 8px 32px -8px rgba(0, 0, 0, 0.3);
$dark-shadow-glow: 0 0 60px -12px rgba(255, 153, 51, 0.35);
```

### 使用场景

| 阴影类型 | 使用场景 |
|----------|----------|
| `shadow-card` | 卡片默认状态 |
| `shadow-elevated` | 卡片悬停/按压状态 |
| `shadow-glow` | 当前激活卡片的光晕效果 |

---

## 📦 卡片交互效果

### 热门精选轮播卡片

```scss
.event-card {
  &.active {
    transform: scale(1.0);
    box-shadow: $shadow-card, $shadow-glow;  // 双层阴影 + 光晕
  }
  
  &.inactive {
    transform: scale(0.88);
    opacity: 0.5;
  }
}
```

### 历史活动卡片

```scss
.history-card {
  transition: all 0.3s ease;
  
  &:active {
    transform: translateY(-4rpx);           // 上浮效果
    box-shadow: $shadow-elevated;           // 浮动阴影
    border-color: rgba($primary, 0.2);      // 橙色边框
  }
  
  // 标题变橙色
  &:active .history-title {
    color: $primary;
  }
  
  // 箭头背景变橙色
  &:active .history-arrow {
    background: rgba($primary, 0.1);
  }
}
```

---

## 🔘 主题切换按钮

### 位置
- 用户头部区域右侧
- 通知按钮左边

### 图标
- 浅色模式：太阳图标 ☀️（CSS 绘制）
- 深色模式：月亮图标 🌙（CSS 绘制）

### 存储
- 使用 `Taro.setStorageSync` 保存用户偏好
- 默认：深色模式

---

## 📐 布局规范

### 首页布局

```
┌─────────────────────────────────┐
│ 状态栏                          │ (系统)
├─────────────────────────────────┤
│ [头像] 你好，用户名    [🌙] [🔔]│ 用户头部
├─────────────────────────────────┤
│ 🔍 搜索活动、会议、讲座...       │ 搜索框
├─────────────────────────────────┤
│ 热门精选                 查看全部│ 板块标题
│ ┌─────────────────────────────┐ │
│ │    [轮播卡片居中放大效果]    │ │ Swiper
│ └─────────────────────────────┘ │
│         ● ○ ○ ○ ○              │ 指示器
├─────────────────────────────────┤
│ 历史活动                 查看全部│ 板块标题
│ ┌─────────────────────────────┐ │
│ │ [图] 活动标题           [→] │ │ 历史卡片
│ │      日期 · 地点            │ │
│ └─────────────────────────────┘ │
│ ...                             │
├─────────────────────────────────┤
│    ╭────────────────────╮ ╭──╮ │
│    │ 🏠  📅  👤         │ │AI│ │ 底部导航
│    ╰────────────────────╯ ╰──╯ │
└─────────────────────────────────┘
```

---

## 🎯 图标规范

### 使用方式

- ✅ 使用 Lucide Icons 的 PNG 版本
- ✅ 存放位置：`assets/icons/`
- ✅ 命名规范：`icon-name.png`
- ❌ 禁止使用 Emoji 作为图标
- ❌ 禁止直接导入 SVG 文件

### 已使用的图标

| 图标 | 文件名 | 用途 |
|------|--------|------|
| 铃铛 | `bell.png` | 通知按钮 |
| 搜索 | `search.png` | 搜索框 |
| 日历 | `calendar.png` | 日期显示 |
| 地点 | `map-pin.png` | 地址显示 |
| 箭头 | `arrow-right.png` | 查看更多 |
| 首页 | `home.png` | 导航栏 |
| 日历+ | `calendar-plus.png` | 导航栏 |
| 设置 | `settings.png` | 导航栏 |

### 图标颜色适配

| 模式 | PNG 图标处理 |
|------|-------------|
| 浅色 | `filter: brightness(0)` (黑色) |
| 深色 | `filter: brightness(0) invert(1)` (白色) |
| 主色 | `filter: brightness(0) saturate(100%) invert(...) sepia(...) hue-rotate(...)` |

---

## 📏 间距规范

| 类型 | 值 | 使用场景 |
|------|-----|----------|
| 页面边距 | 40rpx | 页面左右边距 |
| 卡片间距 | 24rpx | 卡片之间的间距 |
| 内容间距 | 16rpx | 卡片内部元素间距 |
| 小间距 | 8rpx | 图标与文字间距 |

---

## 📝 字体规范

| 类型 | 大小 | 字重 | 使用场景 |
|------|------|------|----------|
| 大标题 | 40rpx | 700 | 页面标题 |
| 标题 | 32rpx | 600 | 卡片标题 |
| 正文 | 28rpx | 400 | 正文内容 |
| 辅助文字 | 24rpx | 400 | 次要信息 |
| 小字 | 20rpx | 400 | 标签、时间戳 |

---

## ✅ 已确认的设计决策

| 决策 | 说明 | 确认时间 |
|------|------|----------|
| 学校标签已移除 | 部分学校名字过长 | 2025年12月02日 |
| 轮播居中显示 | previousMargin = nextMargin = 80rpx | 2025年12月02日 |
| Floating Island 阴影 | 柔和扩散，无明显边缘 | 2025年12月02日 |
| 双主题支持 | 浅色/深色可切换 | 2025年12月02日 |
| 橙色主调 | 统一使用橙色作为主色 | 2025年12月02日 |

---

## 📋 页面主题适配进度

| 页面 | 主题支持 | 状态 | 最后更新 |
|------|----------|------|----------|
| 首页 | ✅ | 已完成 | 2025年12月02日 |
| 搜索页 | ✅ | 已完成 | 2025年12月02日 |
| 活动列表页 | ❌ | 待适配 | - |
| 活动详情页 | ❌ | 待开发 | - |
| 报名表单 | ❌ | 待开发 | - |
| 我的页面 | ❌ | 待开发 | - |

---

## 📝 变更记录

| 时间 | 变更内容 | 操作人 |
|------|----------|--------|
| 2025年12月02日 23:50 | 创建文档，整合设计规范 | Cursor AI |
| 2025年12月02日 18:30 | 用户确认 Lovable 风格 | 用户 |

---

**下次更新**: 设计规范变更时同步更新

