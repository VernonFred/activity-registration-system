# 设计规范文档

> **创建时间**: 2025年12月02日 23:50  
> **最后更新**: 2025年12月09日 11:00  
> **维护人**: Cursor AI  
> **设计风格**: Lovable 风格

---

## 📋 设计变更记录

| 时间 | 变更类型 | 变更内容 | 操作人 |
|------|----------|----------|--------|
| 2025年12月09日 11:05 | 更新 | 明确双主题切换模式，不使用三选项开关 | 用户确认 |
| 2025年12月09日 11:00 | 新增 | 添加设计参考来源，明确设计稿目录 | Cursor AI |
| 2025年12月02日 23:50 | 整合 | 从 DESIGN_STYLE_GUIDE.md 整合 | Cursor AI |
| 2025年12月02日 18:30 | 确定 | 用户确认 Lovable 风格 | 用户 |

---

## 📁 设计参考来源（重要）

> ⚠️ **开发任何页面前，必须先查看对应的设计稿！**

### 1. 小程序端设计（产品规划主参考）

**路径**: `小程序端设计/`

涵盖小程序所有页面的完整设计稿，是**产品结构和功能的权威参考**：

| 模块 | 设计稿文件 | 说明 |
|------|-----------|------|
| **首页** | `主页面.png`, `Main Page.png` | 首页布局和内容 |
| **搜索** | `搜索页面-开始搜索.png`, `搜索页面-搜索结果.png` | 搜索流程 |
| **活动列表** | `所有活动列表页面.png` | 活动筛选和列表 |
| **活动详情** | `活动详情页面-活动速览.png`, `活动详情页面-活动议程.png`, `活动详情页面-酒店信息.png`, `活动详情页面-图片直播.png` | 四Tab详情页 |
| **评论系统** | `活动详情页面-评论-*.png`, `活动详情页面-已报名进行评论.png` | 评论交互 |
| **报名流程** | `立即报名-个人信息.png`, `立即报名-缴费信息.png`, `立即报名-住宿信息.png`, `立即报名-交通信息1.png`, `立即报名-交通信息2.png`, `立即报名-报名成功.png` | 四步表单 |
| **我的页面** | `Profile.png`, `我的-活动列表.png`, `我的-徽章-*.png`, `我的-通知*.png`, `我的-设置*.png` | 个人中心四Tab |
| **暗黑模式** | `暗黑模式.png` | 深色主题参考 |

### 2. 管理端参考样式（管理端设计参考）

**路径**: `管理端参考样式/`

涵盖管理端后台的设计参考：

| 模块 | 设计稿文件 | 说明 |
|------|-----------|------|
| **仪表板** | `仪表板.png`, `活动数据.png` | 数据概览 |
| **徽章管理** | `徽章管理-*.png` | 徽章创建和规则 |
| **用户管理** | `用户管理-*.png` | 用户详情和活动记录 |
| **缴费管理** | `缴费管理.png`, `缴费管理-缴费信息查看.png` | 缴费流程 |
| **通知设置** | `通知设置-*.png` | 通知编辑和发送 |
| **评论管理** | `评论管理.png` | 评论审核 |
| **系统设置** | `设置.png` | 系统配置 |

### 3. Lovable 参考样式（UI 风格参考）

**路径**: `lovable参考样式/`

Lovable 平台的 UI 风格参考，用于**样式美化和交互细节**：

- 现代感卡片设计
- 筛选标签样式
- 步骤指示器设计
- 表单输入框样式

### 4. Lovable 参考代码（组件实现参考）

**路径**: `lovable参考样式代码/`

Lovable 平台的组件代码参考，可借鉴实现方式。

---

## 🔴 开发流程要求

1. **开发页面前**：必须先查看 `小程序端设计/` 对应的设计稿
2. **理解产品逻辑**：设计稿是产品结构的权威参考
3. **UI 可以优化**：在保持产品逻辑的基础上，可以用 Lovable 风格美化
4. **双主题适配**：参考 `暗黑模式.png` 实现深色主题

---

## 🎨 设计风格定义

### 风格名称：**Lovable 风格**

| 特征 | 描述 |
|------|------|
| **整体感觉** | 现代、简约、高级感 |
| **主色调** | 橙色渐变 `#FF8A1A` → `#FF9933` |
| **设计语言** | iOS/visionOS 风格的浮动岛效果 |
| **阴影风格** | Floating Island 柔和扩散阴影 |
| **圆角** | 大圆角 (16rpx - 32rpx) |
| **动画** | 平滑过渡 (0.3s - 0.5s ease) |

---

## 🌓 双主题系统

### 浅色模式 (Light)

```scss
$light-background: #FAFAFA;      // 页面背景
$light-foreground: #18181B;      // 主文字
$light-card: #FFFFFF;            // 卡片背景
$light-muted: #F0F0F2;           // 次要背景
$light-muted-foreground: #6D6E7A; // 次要文字
$light-border: #DDDEE3;          // 边框
$light-primary: #FF8A1A;         // 主色（橙色）
```

### 深色模式 (Dark)

```scss
$dark-background: #0A0A0B;       // 页面背景
$dark-foreground: #FAFAFA;       // 主文字
$dark-card: #18181B;             // 卡片背景
$dark-muted: #27272A;            // 次要背景
$dark-muted-foreground: #A1A1AA; // 次要文字
$dark-border: #2E2E33;           // 边框
$dark-primary: #FF9933;          // 主色（橙色，略亮）
```

---

## 🌊 Floating Island 阴影系统

### 核心理念

- 阴影必须**柔和、扩散、无明显边缘**
- 像卡片**漂浮 6~10px** 的效果
- **不是贴着页面**的传统阴影

### 阴影变量

```scss
// 浅色模式
$light-shadow-card: 0 25px 50px -12px rgba(24, 24, 27, 0.08);
$light-shadow-elevated: 0 8px 32px -8px rgba(24, 24, 27, 0.1);
$light-shadow-glow: 0 0 60px -12px rgba(255, 138, 26, 0.25);

// 深色模式
$dark-shadow-card: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
$dark-shadow-elevated: 0 8px 32px -8px rgba(0, 0, 0, 0.3);
$dark-shadow-glow: 0 0 60px -12px rgba(255, 153, 51, 0.35);
```

### 使用场景

| 阴影类型 | 使用场景 |
|----------|----------|
| `shadow-card` | 卡片默认状态 |
| `shadow-elevated` | 卡片悬停/按压状态 |
| `shadow-glow` | 当前激活卡片的光晕效果 |

---

## 📦 卡片交互效果

### 热门精选轮播卡片

```scss
.event-card {
  &.active {
    transform: scale(1.0);
    box-shadow: $shadow-card, $shadow-glow;  // 双层阴影 + 光晕
  }
  
  &.inactive {
    transform: scale(0.88);
    opacity: 0.5;
  }
}
```

### 历史活动卡片

```scss
.history-card {
  transition: all 0.3s ease;
  
  &:active {
    transform: translateY(-4rpx);           // 上浮效果
    box-shadow: $shadow-elevated;           // 浮动阴影
    border-color: rgba($primary, 0.2);      // 橙色边框
  }
  
  // 标题变橙色
  &:active .history-title {
    color: $primary;
  }
  
  // 箭头背景变橙色
  &:active .history-arrow {
    background: rgba($primary, 0.1);
  }
}
```

---

## 🔘 主题切换（双主题模式）

> ⚠️ **重要**：采用首页已实现的双主题切换模式，不使用三选项开关（跟随系统/普通/暗黑）

### 切换方式
- **单按钮切换**：点击即可在浅色/深色之间切换
- **不需要**三选项开关或设置页面

### 按钮位置
- 用户头部区域右侧
- 通知按钮左边

### 图标
- 浅色模式下显示：太阳图标（PNG 图标）
- 深色模式下显示：月亮图标（PNG 图标）

### 存储
- 使用 `Taro.setStorageSync('theme', 'light' | 'dark')` 保存用户偏好
- 默认：深色模式

### 已实现参考
- 首页（`pages/index/`）已实现完整的双主题切换
- 搜索页（`pages/search/`）已实现完整的双主题切换
- 新页面开发时，参考首页的 `ThemeContext` 实现

---

## 📐 布局规范

### 首页布局

```
┌─────────────────────────────────┐
│ 状态栏                          │ (系统)
├─────────────────────────────────┤
│ [头像] 你好，用户名    [🌙] [🔔]│ 用户头部
├─────────────────────────────────┤
│ 🔍 搜索活动、会议、讲座...       │ 搜索框
├─────────────────────────────────┤
│ 热门精选                 查看全部│ 板块标题
│ ┌─────────────────────────────┐ │
│ │    [轮播卡片居中放大效果]    │ │ Swiper
│ └─────────────────────────────┘ │
│         ● ○ ○ ○ ○              │ 指示器
├─────────────────────────────────┤
│ 历史活动                 查看全部│ 板块标题
│ ┌─────────────────────────────┐ │
│ │ [图] 活动标题           [→] │ │ 历史卡片
│ │      日期 · 地点            │ │
│ └─────────────────────────────┘ │
│ ...                             │
├─────────────────────────────────┤
│    ╭────────────────────╮ ╭──╮ │
│    │ 🏠  📅  👤         │ │AI│ │ 底部导航
│    ╰────────────────────╯ ╰──╯ │
└─────────────────────────────────┘
```

---

## 🎯 图标规范

### 使用方式

- ✅ 使用 Lucide Icons 的 PNG 版本
- ✅ 存放位置：`assets/icons/`
- ✅ 命名规范：`icon-name.png`
- ❌ 禁止使用 Emoji 作为图标
- ❌ 禁止直接导入 SVG 文件

### 已使用的图标

| 图标 | 文件名 | 用途 |
|------|--------|------|
| 铃铛 | `bell.png` | 通知按钮 |
| 搜索 | `search.png` | 搜索框 |
| 日历 | `calendar.png` | 日期显示 |
| 地点 | `map-pin.png` | 地址显示 |
| 箭头 | `arrow-right.png` | 查看更多 |
| 首页 | `home.png` | 导航栏 |
| 日历+ | `calendar-plus.png` | 导航栏 |
| 设置 | `settings.png` | 导航栏 |

### 图标颜色适配

| 模式 | PNG 图标处理 |
|------|-------------|
| 浅色 | `filter: brightness(0)` (黑色) |
| 深色 | `filter: brightness(0) invert(1)` (白色) |
| 主色 | `filter: brightness(0) saturate(100%) invert(...) sepia(...) hue-rotate(...)` |

---

## 📏 间距规范

| 类型 | 值 | 使用场景 |
|------|-----|----------|
| 页面边距 | 40rpx | 页面左右边距 |
| 卡片间距 | 24rpx | 卡片之间的间距 |
| 内容间距 | 16rpx | 卡片内部元素间距 |
| 小间距 | 8rpx | 图标与文字间距 |

---

## 📝 字体规范

| 类型 | 大小 | 字重 | 使用场景 |
|------|------|------|----------|
| 大标题 | 40rpx | 700 | 页面标题 |
| 标题 | 32rpx | 600 | 卡片标题 |
| 正文 | 28rpx | 400 | 正文内容 |
| 辅助文字 | 24rpx | 400 | 次要信息 |
| 小字 | 20rpx | 400 | 标签、时间戳 |

---

## ✅ 已确认的设计决策

| 决策 | 说明 | 确认时间 |
|------|------|----------|
| **双主题切换模式** | 单按钮切换，不使用三选项开关（跟随系统/普通/暗黑） | 2025年12月09日 |
| 学校标签已移除 | 部分学校名字过长 | 2025年12月02日 |
| 轮播居中显示 | previousMargin = nextMargin = 80rpx | 2025年12月02日 |
| Floating Island 阴影 | 柔和扩散，无明显边缘 | 2025年12月02日 |
| 双主题支持 | 浅色/深色可切换 | 2025年12月02日 |
| 橙色主调 | 统一使用橙色作为主色 | 2025年12月02日 |

---

## 📋 页面主题适配进度

| 页面 | 主题支持 | 状态 | 最后更新 |
|------|----------|------|----------|
| 首页 | ✅ | 已完成 | 2025年12月02日 |
| 搜索页 | ✅ | 已完成 | 2025年12月02日 |
| 活动列表页 | ❌ | 待适配 | - |
| 活动详情页 | ❌ | 待开发 | - |
| 报名表单 | ❌ | 待开发 | - |
| 我的页面 | ❌ | 待开发 | - |

---

## 📝 变更记录

| 时间 | 变更内容 | 操作人 |
|------|----------|--------|
| 2025年12月09日 11:05 | 明确双主题切换模式（单按钮切换，不使用三选项开关） | 用户确认 |
| 2025年12月09日 11:00 | 添加设计参考来源，明确小程序端设计和管理端参考样式目录 | Cursor AI |
| 2025年12月02日 23:50 | 创建文档，整合设计规范 | Cursor AI |
| 2025年12月02日 18:30 | 用户确认 Lovable 风格 | 用户 |

---

**下次更新**: 设计规范变更时同步更新

