# 组件库文档

> **创建时间**: 2025年12月02日 23:55  
> **最后更新**: 2026年2月26日 15:45  
> **维护人**: Cursor AI  
> **设计规范**: 遵循 `6-设计规范文档.md`

---

## 📋 组件变更记录

| 时间 | 变更类型 | 组件名 | 变更内容 | 操作人 |
|------|----------|--------|----------|--------|
| 2026年2月26日 15:00 | 重构 | BadgesTab | 徽章Tab：Hero展示+4分类Tab+3列网格+隐藏彩蛋金字塔效果，暗色适配 | Cursor AI |
| 2026年2月26日 15:00 | 新建 | BadgeWall | 徽章墙独立页面：用户信息+统计+2列已获得徽章展示 | Cursor AI |
| 2026年2月26日 14:30 | 重设计 | CredentialPage | 参会凭证页：数字护照印章风格（米色背景+红色印章+MRZ机读码+VERIFIED标记） | Cursor AI |
| 2026年2月26日 14:30 | 重设计 | CheckinPage | 签到页：极简奢感+光影叙事（深色沉浸背景+极光粒子+玻璃态交互球体+金色成功动画） | Cursor AI |
| 2025年12月09日 19:30 | 新增 | AgendaGroupCard | 议程分组卡片（支持折叠/展开） | Cursor AI |
| 2025年12月09日 19:30 | 新增 | AgendaItemCard | 议程项卡片（支持演讲人信息） | Cursor AI |
| 2025年12月09日 19:30 | 修改 | AgendaTab | 支持嵌套结构和折叠功能 | Cursor AI |
| 2025年12月02日 23:55 | 整合 | - | 从 COMPONENT_LIBRARY_GUIDE.md 整合 | Cursor AI |

---

## 📦 组件清单

| 组件 | 功能 | 状态 |
|------|------|------|
| **Button** | 按钮组件 | ✅ 已完成 |
| **Card** | 卡片组件 | ✅ 已完成 |
| **Input** | 输入框组件 | ✅ 已完成 |
| **SearchInput** | 搜索输入框 | ✅ 已完成 |
| **Tag** | 标签组件 | ✅ 已完成 |
| **Empty** | 空状态组件 | ✅ 已完成 |
| **CardSkeleton** | 卡片骨架屏 | ✅ 已完成 |
| **ListSkeleton** | 列表骨架屏 | ✅ 已完成 |
| **ThemeToggle** | 主题切换 | ✅ 已完成 |
| **CustomTabBar** | 底部导航栏 | ✅ 已完成 |
| **AgendaGroupCard** | 议程分组卡片 | ✅ 已完成 (2025-12-09) |
| **AgendaItemCard** | 议程项卡片 | ✅ 已完成 (2025-12-09) |

---

## 🎨 设计规范

### 圆角系统
- **按钮**: 16rpx
- **卡片**: 32rpx（normal）、48rpx（large）
- **输入框**: 12rpx
- **标签**: 999rpx（胶囊形）

### 间距系统
- **基准单位**: 8rpx
- **区块间距**: 64rpx
- **卡片内边距**: 48rpx
- **元素间距**: 32rpx

### 动画效果
- **点击缩小**: `scale(0.95)`
- **缓动函数**: `cubic-bezier(0.34, 1.56, 0.64, 1)`
- **过渡时间**: 0.3s

---

## 📖 组件使用示例

### 1. Button 组件

```tsx
import { Button } from '@/components'

// 主按钮
<Button type="primary" size="large" onClick={handleClick}>
  立即报名
</Button>

// 次按钮
<Button type="secondary" size="small" onClick={handleCancel}>
  取消
</Button>

// 禁用状态
<Button type="primary" disabled>
  已报名
</Button>

// 块级按钮
<Button type="primary" block>
  提交
</Button>
```

**Props**:
- `type`: 按钮类型（primary | secondary）
- `size`: 按钮尺寸（large | small）
- `disabled`: 是否禁用
- `block`: 是否块级按钮
- `onClick`: 点击事件

---

### 2. Card 组件

```tsx
import { Card } from '@/components'

// 基础卡片
<Card onClick={() => navigateTo('/detail')}>
  <View>卡片内容</View>
</Card>

// 大圆角卡片
<Card radius="large" shadow>
  <View>卡片内容</View>
</Card>
```

**Props**:
- `radius`: 圆角大小（normal | large）
- `shadow`: 是否显示阴影
- `onClick`: 点击事件

---

### 3. Input 组件

```tsx
import { Input, SearchInput } from '@/components'

// 基础输入框
<Input
  value={name}
  placeholder="请输入姓名"
  onInput={setName}
/>

// 搜索输入框
<SearchInput
  value={keyword}
  placeholder="搜索活动..."
  clearable
  onInput={setKeyword}
  onClear={() => setKeyword('')}
/>
```

---

### 4. Tag 组件

```tsx
import { Tag } from '@/components'

// 活动状态标签
<Tag type="ongoing">进行中</Tag>
<Tag type="signup">报名中</Tag>
<Tag type="upcoming">即将开始</Tag>
<Tag type="finished">已结束</Tag>
```

---

### 5. Empty 组件

```tsx
import { Empty } from '@/components'

<Empty
  icon="inbox"
  title="暂无活动"
  desc="精彩活动即将上线，敬请期待"
/>
```

---

### 6. Loading 组件（骨架屏）

```tsx
import { CardSkeleton, ListSkeleton } from '@/components'

// 单个卡片骨架屏
<CardSkeleton />

// 列表骨架屏
<ListSkeleton count={3} />

// 条件渲染
{loading ? <ListSkeleton count={3} /> : <ActivityList data={data} />}
```

---

### 11. AgendaGroupCard 组件 (新增 2025-12-09)

```tsx
import { AgendaGroupCard } from '@/pages/activity-detail/components'

<AgendaGroupCard
  group={agendaGroup}
  theme="light"
  isExpanded={expandedGroups.has(group.id)}
  onToggleExpand={handleToggleExpand}
/>
```

**Props**：
- `group: AgendaGroup` - 议程分组数据
- `theme: string` - 主题（light/dark）
- `isExpanded: boolean` - 是否展开
- `onToggleExpand: (groupId: number) => void` - 展开/折叠回调

**AgendaGroup 数据结构**：
```typescript
interface AgendaGroup {
  id: number
  title: string
  time_start?: string
  time_end?: string
  moderator?: Moderator
  items: AgendaItem[]
}
```

---

### 12. AgendaItemCard 组件 (新增 2025-12-09)

```tsx
import { AgendaItemCard } from '@/pages/activity-detail/components'

<AgendaItemCard
  item={agendaItem}
  theme="light"
  isLast={false}
/>
```

**Props**：
- `item: AgendaItem` - 议程项数据
- `theme: string` - 主题（light/dark）
- `isLast: boolean` - 是否为最后一项

**AgendaItem 数据结构**：
```typescript
interface AgendaItem {
  id: number
  time_start: string
  time_end: string
  title: string
  type: 'speech' | 'break' | 'discussion' | 'activity'
  speaker?: Speaker
  location?: string
  tag?: string
  description?: string
}

interface Speaker {
  name: string
  title: string
  avatar?: string
}
```

---

---

### 13. CredentialPage 组件 (重设计 2026-02-26)

**风格**: 数字护照印章（Digital Passport Stamp）

**核心元素**:
- 米色护照纸张质感背景（暗黑模式为深棕色调）
- 圆形红色双圈印章（城市缩写码 + 日期），带油墨飞溅效果
- CONFERENCE CREDENTIAL 英文标签
- 参会人/地点/日期信息区
- MRZ 机读码装饰行
- VERIFIED 绿色盖章标记

**动画**: 护照本体滑入 → 印章从大到小旋转弹入 → 信息区淡入 → VERIFIED弹入

**城市缩写码映射**: 支持16个常见城市（北京→BJ、上海→SH等），未匹配城市取前两字符大写

---

### 14. CheckinPage 组件 (重设计 2026-02-26)

**风格**: 极简奢感 + 光影叙事

**核心元素**:
- **签到前**: 深色沉浸背景 + 极光效果 + 浮动粒子 + 玻璃态交互球体（外环旋转渐变 + 内环光点 + 中心毛玻璃按钮）
- **签到中**: 按压缩放反馈 + 全屏白光闪烁过渡
- **签到后**: 水平光束扫过 + "CHECKED IN"金色标签 + 金色渐变大标题 + 毛玻璃信息卡片

**状态管理**: `phase` 状态机（idle → pressing → flash → done）

---

### 15. BadgesTab 组件 — 探险地图风格 (2026-02-26)

**风格**: Adventure Map（探险地图 — 羊皮卷+指南针+地标+迷雾）

**核心元素**:
- **羊皮卷背景**: 暖色 `#f4e8c1` 渐变底色 + 顶底金色卷轴边缘装饰
- **指南针Hero**: conic-gradient进度环 + 红色N标 + 进度数字 + 🏴徽章墙入口
- **🚩最近发现Banner**: 虚线边框卡片，真实3D徽章图片 + 获得日期
- **4区域Tab**: 出发港口(绿)/社交广场(蓝)/荣誉殿堂(金)/迷雾秘境(紫)，彩色圆点+active边框
- **3列地标网格**: 已发现 = 金色光晕脉冲 + 🏁旗帜; 未发现 = 迷雾遮罩 + 灰度
- **点击交互**: 展开tooltip显示解锁条件/获得日期
- **迷雾秘境**: 3层动态漂浮迷雾 + ？问号 + 金色「拨开迷雾」按钮
- **入场动画**: `landmarkReveal` — translateY + scale 交错延迟

**数据**: 17枚真实3D徽章图片（`assets/badges/`），BadgeCategory枚举

**暗色适配**: 深棕色调 `#1a1610` + 金色文字 `#e8d5a3`

---

### 16. BadgeWall 页面 — 探险日志风格 (2026-02-26)

**路由**: `/pages/badge-wall/index`

**核心元素**:
- 卷轴边缘装饰 + 「探险日志」标题
- 用户信息（金色边框头像+姓名+组织）
- 统计区（累积发现 | 超越探险家百分比）
- 2列金色光晕卡片 + 真实徽章图片 + 获得日期
- 入场动画: `wallCardReveal` 交错延迟

**暗色适配**: 深棕色调统一

---

## 📝 变更记录

| 时间 | 变更内容 | 操作人 |
|------|----------|--------|
| 2026年2月26日 15:45 | 徽章Tab/徽章墙改为「探险地图」创意风格 + 真实3D徽章图片接入 | Cursor AI |
| 2026年2月26日 14:30 | 参会凭证页数字护照风格重设计 + 签到页极简奢感重设计 | Cursor AI |
| 2025年12月09日 19:30 | 新增 AgendaGroupCard、AgendaItemCard 组件及使用示例 | Cursor AI |
| 2025年12月02日 23:55 | 创建文档，整合组件库指南 | Cursor AI |

---

**下次更新**: 新增组件时同步更新

